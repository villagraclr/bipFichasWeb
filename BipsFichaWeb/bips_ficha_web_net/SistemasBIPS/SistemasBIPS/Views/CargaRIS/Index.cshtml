@using SistemasBIPS.Models
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Ministerio de Desarrollo Social y Familia - Gobierno de Chile";
}
@section styles {
    @Styles.Render("~/Content/Fonts_min")
    @Styles.Render("~/Content/DataTable2")
}
<div id="page-wrapper">
    <!--Miga de pan-->
    <div class="row">
        <ol class="breadcrumb breadcrumbBIPS">
            <li class="active"><i class="fa fa-archive fa-fw"></i> Carga Beneficiarios</li>
        </ol>
    </div>
    <div class="row">
        <div class="col-lg-12" style="padding-left:0px;padding-right:0px">
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover" cellspacing="0" id="tblPanelCargaRIS">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Ministerio</th>
                            <th>Servicio</th>
                            <th>Nombre</th>
                            <th>N° iteración</th>
                            <th>Fecha última carga</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!--Modal subir archivo-->
<div id="modalSubirArchivo" class="modal fade" data-backdrop="static" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Cargar planilla de beneficiarios</h4>
            </div>
            <form method="post" action="" enctype="multipart/form-data">
                <div class="modal-body">
                    <input type="hidden" id="txtIdPrograma" value="0" />
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label for="cmbSubeBeneficiarios" class="col-sm-3 control-label">¿Desea cargar beneficiarios?</label>
                            <div class="col-sm-9" style="padding-left:15px;">
                                <select id="cmbSubeBeneficiarios" class="form-control" style="width:90%;">
                                    <option value="-1">Seleccione</option>
                                    <option value="Si">Si</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group divCmbJustificacion">
                            <label for="cmbJustificacion" class="col-sm-3 control-label">Justificación</label>
                            <div class="col-sm-9" style="padding-left:15px;">
                                <select id="cmbJustificacion" class="form-control" style="width:90%;">
                                    <option value="-1">Seleccione</option>
                                    <option value="1">Reporte en RIS</option>
                                    <option value="3">Datos sensibles</option>
                                    <option value="2">Otra</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group divCargaBeneficiarios">
                            <label for="idCargaRIS" class="col-sm-3 control-label">Cargar beneficiarios</label>
                            <div class="col-sm-9" style="padding-left:15px;">
                                <input type="file" id="idCargaRIS" name="idCargaRIS" class="form-control" style="width:90%; float:left;">                                
                            </div>
                        </div>
                        <div class="form-group divTextoCargaBeneficiarios">
                            <div class="col-sm-12" style="padding-left:15px;margin-top:5px;">
                                <p class="help-block" style="text-align:left;">En caso de hacer una nueva carga sin que se le haya solicitado explícitamente, enviar un correo a asistencia.datos.bips.ris@desarrollosocial.gob.cl</p>
                            </div>
                        </div>
                        <div class="form-group divJustNoCargaBeneficiarios">
                            <label for="txtComentSubeBenef" class="col-sm-3 control-label">Detalle justificación</label>
                            <div class="col-sm-9" style="padding-left:15px;">
                                <textarea class="form-control" id="txtComentSubeBenef" rows="3" maxlength="3000" aria-describedby="txtComentSubeBenef" placeholder="Ingrese justificación" style="width:90%;"></textarea>
                                <span id="txtCounttxtComentSubeBenef" class="help-block" style="font-size:12px;">Caracteres restantes=3000</span>
                            </div>                            
                        </div>
                        <div class="form-group divTextoNoCargaBeneficiarios">
                            <div class="col-sm-12" style="padding-left:15px;margin-top:5px;">
                                <p class="help-block" style="text-align:center;">Recordar que las justificaciones por no carga declaradas estarán sujetas a evaluación.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" data-loading-text="Enviando..." id="btnCargaRIS">Enviar</button>
                </div>
            </form>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!--Modal mensajes-->
<div id="modalMsjCargaBenef" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header"><h4 class="modal-title">Información</h4></div>
            <div class="modal-body" id="msjInfoCargaRIS"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnAcepMsjCargaRIS" data-dismiss="modal">Aceptar</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
@section scripts {
    @Scripts.Render("~/bundles/DataTable2")
    @Scripts.Render("~/bundles/Moment")
    @Scripts.Render("~/bundles/CargaRIS")
}