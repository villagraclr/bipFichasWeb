@model SistemasBIPS.Models.UsuariosViewModels
@if (Request.IsAuthenticated) {
<nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0px; min-height: 0px;">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">Menu</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
    </div>
    @*<button type="button" id="btnAyudaMenu" data-toggle="tooltip" data-placement="top" title="Presione para obtener ayuda" class="btn btn-primary btn-sm" style="float:right;"><i class="fa fa-question-circle" style="font-size:16px;" aria-hidden="true"></i></button>*@
    <ul class="nav navbar-nav navbar-top-links navbar-right">
        <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#" style="color:#0168B3;min-height: 0px; padding: 5px 15px;">
                <i class="fa fa-user fa-fw"></i> @Model.dataUsuario.Nombre
                <i class="fa fa-caret-down"></i>
            </a>
            <ul class="dropdown-menu dropdown-user">
                @*<li><a href="#"><i class="fa fa-gear fa-fw" style="color:#337ab7"></i>Propiedades</a></li>
                <li class="divider"></li>*@
                <li>
                    @using (Html.BeginForm("LogOff", "Home", FormMethod.Post, new { id = "logoutForm" }))
                    {
                        @Html.AntiForgeryToken()
                    <a href="javascript:document.getElementById('logoutForm').submit()"><i class="fa fa-sign-out fa-fw" style="color:#337ab7"></i>Salir</a>
                    }
                </li>
            </ul>
        </li>
    </ul>
    <!--timer sesion-->
    @*<div class="bg-primary" id="relojSesion" style="float:right;margin-top:5px;padding:0px 5px;"></div>*@
    <!--menu-->
    <div class="navbar-default sidebar" role="navigation">
        <div class="sidebar-nav navbar-collapse">
            <ul class="nav" id="side-menu">
                <li id="liMenuGeneral" style="display:none;"><a href="#" id="aMenuGeneral"><i class="fa fa-home fa-fw"></i> Menu principal</a></li>
                <li id="liNivelCentral">
                    <a href="#" id="aMenuNivelCentral" style="border-bottom: 1px solid #e7e7e7;"><i class="fa fa-bars fa-fw"></i> Nivel Central<span class="fa arrow"></span></a>
                    <ul id="menuNivelCentral" class="nav nav-second-level">                                                
                        <li><a href="@Url.Action("Programas","Programa")" id="aMenuProgramas"><i class="fa fa-edit fa-fw"></i> Formularios</a></li>
                        <li id="liMantenedores">
                            @{ MDS.Core.Providers.IProviderConstante constantes = (MDS.Core.Providers.IProviderConstante)Activator.CreateInstance(typeof(MDS.Core.Providers.ProviderConstante)); }
                            @if (Model.listaPermisosPerfiles.Count > 0){
                                if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoMantenedores"))) > 0){
                                    <a href="#" id="aMenuMantenedores" style="border-top: 1px solid #e7e7e7;"><i class="fa fa-gears fa-fw"></i> Mantenedores<span class="fa arrow"></span></a>
                                    <ul id="menuMantenedores" class="nav nav-third-level">
                                        @if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoGrupos"))) > 0){
                                            <li>
                                                <a href="@Url.Action("Grupos","Mantenedores")" id="aMenuGrupos"><i class="fa fa-files-o fa-fw"></i> Grupos</a>
                                            </li>
                                        }
                                        @if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoUsuarios"))) > 0){
                                            <li>
                                                <a href="@Url.Action("Users","Mantenedores")" id="aMenuUsuarios"><i class="fa fa-users fa-fw"></i> Usuarios</a>
                                            </li>
                                        }
                                        @if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoNuevosFormularios"))) > 0){
                                            <li>
                                                <a href="@Url.Action("Formularios","Mantenedores")" id="aMenuNuevosForm"><i class="fa fa-file-text-o fa-fw"></i> Formularios</a>
                                            </li>
                                        }
                                    </ul>
                                }
                            }
                        </li>
                        @if (Model.listaPermisosPerfiles.Count > 0){
                            if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoCargaRis"))) > 0){
                                <li><a href="@Url.Action("Index","CargaRIS")" id="aMenuCargaRIS" style="border-top: 1px solid #e7e7e7;"><i class="fa fa-archive fa-fw"></i> Carga Beneficiarios</a></li>
                            }
                        }
                        @if (Model.listaPerfilesEspeciales.Count > 0){
                            bool evaluador = (Model.listaPerfilesEspeciales.Count(p => p.IdParametro == decimal.Parse(constantes.GetValue("EvaluadorExAnte"))) > 0 ? true : false);
                            bool coordinador = (Model.listaPerfilesEspeciales.Count(p => p.IdParametro == decimal.Parse(constantes.GetValue("CoordinadorExAnte"))) > 0 ? true : false);
                            if (evaluador || coordinador){
                                <li>
                                    <a href="#" id="aMenuExAnte" style="border-top: 1px solid #e7e7e7;"><i class="fa fa-folder-open-o fa-fw"></i> Ex-Ante<span class="fa arrow"></span></a>
                                    <ul id="menuExAnte" class="nav nav-third-level">
                                        @if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoModuloExAnte"))) > 0){
                                            <li>
                                                <a href="@Url.Action("Index","EvaluacionExAnte")" id="aMenuEvalExAnte"><i class="fa fa-calendar-check-o fa-fw"></i> Evaluación Ex-Ante</a>
                                            </li>
                                        }
                                        @if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoPanelExAnte"))) > 0){
                                            <li>
                                                <a href="@Url.Action("Panel","EvaluacionExAnte")" id="aMenuPanelExAnte"><i class="fa fa-table fa-fw"></i> Panel Ex-Ante</a>
                                            </li>
                                        }
                                        @if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoDashboard"))) > 0){
                                            <li>
                                                <a href="@Url.Action("Dashboard","EvaluacionExAnte")" id="aMenuDashboardExAnte"><i class="fa fa-tachometer fa-fw"></i> Dashboard</a>
                                            </li>
                                        }
                                    </ul>
                                </li>
                            }
                        }
                        @if (Model.listaPermisosPerfiles.Count > 0){
                            if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoBiblioteca"))) > 0){
                                <li id="liBiblioteca">
                                    <a href="#" id="aMenuBiblioteca" style="border-top: 1px solid #e7e7e7;"><i class="fa fa-book fa-fw"></i> Biblioteca<span class="fa arrow"></span></a>
                                    <ul id="menuBiblioteca" class="nav nav-third-level">
                                        @if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoDescargaBaseDatos"))) > 0){
                                            <li>
                                                <a href="@Url.Action("Index","Biblioteca")" id="aMenuBaseDatos"><i class="fa fa-download fa-fw"></i> Base de datos</a>
                                            </li>
                                        }
                                        @if (Model.listaPermisosPerfiles.Count(p => p.IdPermiso == decimal.Parse(constantes.GetValue("PermisoRepositorio"))) > 0)
                                        {
                                            <li>
                                                <a href="@Url.Action("Repositorio","Biblioteca")" id="aMenuRepositorio"><i class="fa fa-file-text fa-fw"></i> Repositorio</a>
                                            </li>
                                        }
                                    </ul>
                                </li>
                            }
                        }
                    </ul>
                </li>
                @*<li><a href="@Url.Action("Escritorio","Home")" id="aMenuEscritorio"><i class="fa fa-desktop fa-fw"></i> Escritorio</a></li>*@
                @*<li><a href="@Url.Action("Mensajes","Home")" id="aMenuMensajes"><i class="fa fa-envelope fa-fw"></i> Mensajes <span class="badge" id="indicadorNuevosMensajes">5 Nuevos</span></a></li>*@                                
                <li id="liGores">
                    <a href="#" id="aMenuGores" style="border-bottom: 1px solid #e7e7e7;"><i class="fa fa-bars fa-fw"></i> Gores<span class="fa arrow"></span></a>
                    <ul id="menuGores" class="nav nav-second-level">
                        <li>
                            <a href="@Url.Action("Index","Gores")" id="aMenuPerfiles"><i class="fa fa-file-text-o fa-fw"></i> Perfiles</a>
                        </li>
                        <li>
                            <a href="@Url.Action("Programas","Gores")" id="aMenuProgramasGores" style="border-top: 1px solid #e7e7e7;"><i class="fa fa-edit fa-fw"></i> Programas</a>
                        </li>
                        <li id="liEvaluadoresGore">
                            <a href="#" id="aMenuEvaluadoresGore" style="border-top: 1px solid #e7e7e7;"><i class="fa fa-book fa-fw"></i> Evaluadores<span class="fa arrow"></span></a>
                            <ul id="menuEvaluadoresGore" class="nav nav-third-level">
                                <li>
                                    <a href="@Url.Action("EvaluadorPerfil","Gores")" id="aMenuEvaluadorPerfil"><i class="fa fa-edit fa-fw"></i> Evaluador perfil</a>
                                </li>
                                <li>
                                    <a href="@Url.Action("EvaluadorPrograma","Gores")" id="aMenuEvaluadorPrograma"><i class="fa fa-edit fa-fw"></i> Evaluador programas</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
}